(()=>{"use strict";const e=document.getElementById("task-template");function t(e){const t=this.closest(".task-item");this.checked?t.classList.add("completed"):t.classList.remove("completed")}function n(t,n,i,s,l){t.tasks.forEach((t=>{const d=document.importNode(e.content,!0),o=d.querySelector("input"),a=d.querySelector("p.name"),c=d.querySelector("p.description"),r=d.querySelector("p.date"),m=d.querySelector("p.priority");o.id=t.id,o.checked=t.complete,a.innerHTML=n,c.innerHTML=i,r.innerHTML=s,m.innerHTML=l,taskContainer.appendChild(d)}))}const i=document.querySelector("[data-lists]"),s=document.querySelector("[data-tasks]"),l="task.lists",d="task.selectedListId";let o=JSON.parse(localStorage.getItem(l))||[],a=localStorage.getItem(d);function c(){localStorage.setItem(l,JSON.stringify(o)),localStorage.setItem(d,a),r()}function r(){m(i),o.forEach((e=>{const t=document.createElement("div");t.classList.add("lists"),t.dataset.listId=e.id;let n=`\n        <div class="list-item">\n          <h3 class="list-text hover">${e.name}</h3>\n          <i class="fa-solid fa-minus hover fa-lg" style="color: #f8f7f9" data-delete-list-btn></i>\n        </div>\n        `;t.innerHTML=n;const s=t.querySelector(".list-text");e.id===a&&s.classList.add("current"),i.appendChild(t)})),s.style.display=null==a?"none":"",function(e){e.tasks.filter((e=>!e.complete))}(u),m(s),n()}function m(e){for(;e.firstChild;)e.removeChild(e.firstChild)}const u=o.find((e=>e.id===a));document.getElementById("add-task").addEventListener("click",(()=>{const{name:e,description:t,date:i,priority:s}=function(){const e=document.getElementById("name").value,t=document.getElementById("description").value,n=document.getElementById("date").value,i=document.getElementById("priority").value;let s=n.slice(8,10),l=n.slice(5,7),d=n.slice(0,4);l.startsWith("0")&&(l=l.substring(1)),s.startsWith("0")&&(s=s.substring(1));let o=`${l}/${s}/${d}`;if(""!==e&&""!==t&&""!==o&&""!==i)return{name:e,description:t,date:o,priority:i};document.getElementById("error-text").style.display="block"}();n(selectedList,e,t,i,s)})),document.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.addEventListener("change",t)})),document.getElementById("new-list").addEventListener("click",(function(){document.getElementById("list-form").style.display="flex"})),document.getElementById("close-form").addEventListener("click",(function(){let e=document.getElementById("list-form"),t=document.getElementById("list-name");if(""===t.value)return;const n=(i=t.value,{id:Date.now().toString(),name:i,tasks:[{id:"tessst",name:"Test",description:"this is the description",date:"08/20/2005",priority:"High",complete:!1}]});var i;t.value="",o.push(n),e.style.display="none",c()})),i.addEventListener("click",(e=>{"h3"===e.target.tagName.toLowerCase()&&(a=e.target.parentNode.parentNode.dataset.listId,c())})),i.addEventListener("click",(e=>{if(e.target.hasAttribute("data-delete-list-btn")){e.target.querySelector("i");const t=e.target.parentNode.parentNode.dataset.listId;o=o.filter((e=>e.id!==t)),t===a&&(a=null),c()}})),r()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YSx3QkFBeUIsQ0FDNUJMLEVBQUVDLE9BQU96RCxjQUFjLEtBQTVDLE1BQ004RCxFQUFXTixFQUFFQyxPQUFPRyxXQUFXQSxXQUFXakMsUUFBUUMsT0FDeERmLEVBQVFBLEVBQU1vQixRQUFRVCxHQUFTQSxFQUFLbkIsS0FBT3lELElBQ3ZDQSxJQUFhNUMsSUFDZkEsRUFBaUIsTUFFbkJDLEdBQ0YsS0d0QkpHLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvdGFza0xvZ2ljLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9saXN0TG9naWMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2Rpc3BsYXlIYW5kbGVyLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9mb3Jtcy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHVwZGF0ZUV2ZW50TGlzdGVuZXJzIGZyb20gJy4vZGlzcGxheUhhbmRsZXInO1xuaW1wb3J0IHsgc2VsZWN0ZWRMaXN0IH0gZnJvbSAnLi9saXN0TG9naWMnO1xuXG5jb25zdCB0YXNrVGVtcGxhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay10ZW1wbGF0ZScpO1xuXG5mdW5jdGlvbiBnZXRJbnB1dFZhbHVlcygpIHtcbiAgY29uc3QgbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1lJykudmFsdWU7XG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc2NyaXB0aW9uJykudmFsdWU7XG4gIGNvbnN0IGRlZmF1bHREYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGUnKS52YWx1ZTtcbiAgY29uc3QgcHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpb3JpdHknKS52YWx1ZTtcblxuICBsZXQgZGF5ID0gZGVmYXVsdERhdGUuc2xpY2UoOCwgMTApO1xuICBsZXQgbW9udGggPSBkZWZhdWx0RGF0ZS5zbGljZSg1LCA3KTtcbiAgbGV0IHllYXIgPSBkZWZhdWx0RGF0ZS5zbGljZSgwLCA0KTtcblxuICBpZiAobW9udGguc3RhcnRzV2l0aCgnMCcpKSB7XG4gICAgbW9udGggPSBtb250aC5zdWJzdHJpbmcoMSk7XG4gIH1cbiAgaWYgKGRheS5zdGFydHNXaXRoKCcwJykpIHtcbiAgICBkYXkgPSBkYXkuc3Vic3RyaW5nKDEpO1xuICB9XG5cbiAgbGV0IGRhdGUgPSBgJHttb250aH0vJHtkYXl9LyR7eWVhcn1gO1xuXG4gIGlmIChuYW1lID09PSAnJyB8fCBkZXNjcmlwdGlvbiA9PT0gJycgfHwgZGF0ZSA9PT0gJycgfHwgcHJpb3JpdHkgPT09ICcnKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yLXRleHQnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4geyBuYW1lLCBkZXNjcmlwdGlvbiwgZGF0ZSwgcHJpb3JpdHkgfTtcbn1cblxuY29uc3QgbmV3VGFzayA9IChuYW1lLCBkZXNjcmlwdGlvbiwgZGF0ZSwgcHJpb3JpdHkpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lLFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIGRhdGUsXG4gICAgcHJpb3JpdHksXG4gICAgY29tcGxldGU6IGZhbHNlLFxuICB9O1xufTtcblxuZnVuY3Rpb24gY2hlY2tDaGVja2JveChldmVudCkge1xuICBjb25zdCB0YXNrSXRlbSA9IHRoaXMuY2xvc2VzdCgnLnRhc2staXRlbScpO1xuICBpZiAodGhpcy5jaGVja2VkKSB7XG4gICAgdGFza0l0ZW0uY2xhc3NMaXN0LmFkZCgnY29tcGxldGVkJyk7XG4gIH0gZWxzZSB7XG4gICAgdGFza0l0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnY29tcGxldGVkJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVuZGVyVGFza3Moc2VsZWN0ZWRMaXN0LCBuYW1lLCBkZXNjcmlwdGlvbiwgZGF0ZSwgcHJpb3JpdHkpIHtcbiAgc2VsZWN0ZWRMaXN0LnRhc2tzLmZvckVhY2goKHRhc2spID0+IHtcbiAgICBjb25zdCB0YXNrRWxlbWVudCA9IGRvY3VtZW50LmltcG9ydE5vZGUodGFza1RlbXBsYXRlLmNvbnRlbnQsIHRydWUpO1xuICAgIGNvbnN0IGNoZWNrYm94ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICBjb25zdCBuYW1lVGFnID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcigncC5uYW1lJyk7XG4gICAgY29uc3QgZGVzY3JpcHRpb25UYWcgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKCdwLmRlc2NyaXB0aW9uJyk7XG4gICAgY29uc3QgZGF0ZVRhZyA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3AuZGF0ZScpO1xuICAgIGNvbnN0IHByaW9yaXR5VGFnID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcigncC5wcmlvcml0eScpO1xuICAgIGNoZWNrYm94LmlkID0gdGFzay5pZDtcbiAgICBjaGVja2JveC5jaGVja2VkID0gdGFzay5jb21wbGV0ZTtcbiAgICBuYW1lVGFnLmlubmVySFRNTCA9IG5hbWU7XG4gICAgZGVzY3JpcHRpb25UYWcuaW5uZXJIVE1MID0gZGVzY3JpcHRpb247XG4gICAgZGF0ZVRhZy5pbm5lckhUTUwgPSBkYXRlO1xuICAgIHByaW9yaXR5VGFnLmlubmVySFRNTCA9IHByaW9yaXR5O1xuICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQodGFza0VsZW1lbnQpO1xuICB9KTtcbn1cblxuZXhwb3J0IHsgZ2V0SW5wdXRWYWx1ZXMsIGNoZWNrQ2hlY2tib3gsIG5ld1Rhc2ssIHJlbmRlclRhc2tzIH07XG4iLCJpbXBvcnQgeyByZW5kZXJUYXNrcyB9IGZyb20gJy4vdGFza0xvZ2ljJztcblxuY29uc3QgbGlzdHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1saXN0c10nKTtcbmNvbnN0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10YXNrc10nKTtcblxuY29uc3QgTE9DQUxfU1RPUkFHRV9MSVNUX0tFWSA9ICd0YXNrLmxpc3RzJztcbmNvbnN0IExPQ0FMX1NUT1JBR0VfU0VMRUNURURfTElTVF9JRF9LRVkgPSAndGFzay5zZWxlY3RlZExpc3RJZCc7XG5sZXQgbGlzdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfTElTVF9LRVkpKSB8fCBbXTtcbmxldCBzZWxlY3RlZExpc3RJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfU0VMRUNURURfTElTVF9JRF9LRVkpO1xuXG5mdW5jdGlvbiBsaXN0RXZlbnRMaXN0ZW5lcigpIHtcbiAgbGlzdHNDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGlmIChlLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdoMycpIHtcbiAgICAgIHNlbGVjdGVkTGlzdElkID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmRhdGFzZXQubGlzdElkO1xuICAgICAgc2F2ZUFuZFJlbmRlcigpO1xuICAgIH1cbiAgfSk7XG4gIGxpc3RzQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBpZiAoZS50YXJnZXQuaGFzQXR0cmlidXRlKCdkYXRhLWRlbGV0ZS1saXN0LWJ0bicpKSB7XG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBlLnRhcmdldC5xdWVyeVNlbGVjdG9yKCdpJyk7XG4gICAgICBjb25zdCBpZFBhcmVudCA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5kYXRhc2V0Lmxpc3RJZDtcbiAgICAgIGxpc3RzID0gbGlzdHMuZmlsdGVyKChsaXN0KSA9PiBsaXN0LmlkICE9PSBpZFBhcmVudCk7XG4gICAgICBpZiAoaWRQYXJlbnQgPT09IHNlbGVjdGVkTGlzdElkKSB7XG4gICAgICAgIHNlbGVjdGVkTGlzdElkID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHNhdmVBbmRSZW5kZXIoKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaXN0KG5hbWUpIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgIG5hbWU6IG5hbWUsXG4gICAgdGFza3M6IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6ICd0ZXNzc3QnLFxuICAgICAgICBuYW1lOiAnVGVzdCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAndGhpcyBpcyB0aGUgZGVzY3JpcHRpb24nLFxuICAgICAgICBkYXRlOiAnMDgvMjAvMjAwNScsXG4gICAgICAgIHByaW9yaXR5OiAnSGlnaCcsXG4gICAgICAgIGNvbXBsZXRlOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2F2ZSgpIHtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9MSVNUX0tFWSwgSlNPTi5zdHJpbmdpZnkobGlzdHMpKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9TRUxFQ1RFRF9MSVNUX0lEX0tFWSwgc2VsZWN0ZWRMaXN0SWQpO1xufVxuXG5mdW5jdGlvbiBzYXZlQW5kUmVuZGVyKCkge1xuICBzYXZlKCk7XG4gIHJlbmRlcigpO1xufVxuXG5mdW5jdGlvbiByZW5kZXIoKSB7XG4gIGNsZWFyRWxlbWVudChsaXN0c0NvbnRhaW5lcik7XG4gIHJlbmRlckxpc3RzKCk7XG4gIGlmIChzZWxlY3RlZExpc3RJZCA9PSBudWxsKSB7XG4gICAgdGFza0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9IGVsc2Uge1xuICAgIHRhc2tDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICcnO1xuICB9XG4gIHJlbmRlckluY29tcGxldGVUYXNrcyhzZWxlY3RlZExpc3QpO1xuICBjbGVhckVsZW1lbnQodGFza0NvbnRhaW5lcik7XG4gIHJlbmRlclRhc2tzKCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckluY29tcGxldGVUYXNrcyhzZWxlY3RlZExpc3QpIHtcbiAgY29uc3QgaW5jb21wbGV0ZVRhc2tzID0gc2VsZWN0ZWRMaXN0LnRhc2tzLmZpbHRlcigodGFzaykgPT4gIXRhc2suY29tcGxldGUpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJMaXN0cygpIHtcbiAgbGlzdHMuZm9yRWFjaCgobGlzdCkgPT4ge1xuICAgIGNvbnN0IGxpc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbGlzdEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbGlzdHMnKTtcbiAgICBsaXN0RWxlbWVudC5kYXRhc2V0Lmxpc3RJZCA9IGxpc3QuaWQ7XG4gICAgbGV0IGxpc3RFbGVtZW50SFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImxpc3QtaXRlbVwiPlxuICAgICAgICAgIDxoMyBjbGFzcz1cImxpc3QtdGV4dCBob3ZlclwiPiR7bGlzdC5uYW1lfTwvaDM+XG4gICAgICAgICAgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1taW51cyBob3ZlciBmYS1sZ1wiIHN0eWxlPVwiY29sb3I6ICNmOGY3ZjlcIiBkYXRhLWRlbGV0ZS1saXN0LWJ0bj48L2k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuXG4gICAgbGlzdEVsZW1lbnQuaW5uZXJIVE1MID0gbGlzdEVsZW1lbnRIVE1MO1xuICAgIGNvbnN0IGxpc3ROYW1lID0gbGlzdEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmxpc3QtdGV4dCcpO1xuICAgIGlmIChsaXN0LmlkID09PSBzZWxlY3RlZExpc3RJZCkge1xuICAgICAgbGlzdE5hbWUuY2xhc3NMaXN0LmFkZCgnY3VycmVudCcpO1xuICAgIH1cblxuICAgIGxpc3RzQ29udGFpbmVyLmFwcGVuZENoaWxkKGxpc3RFbGVtZW50KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNsZWFyRWxlbWVudChlbGVtZW50KSB7XG4gIHdoaWxlIChlbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gIH1cbn1cblxuY29uc3Qgc2VsZWN0ZWRMaXN0ID0gbGlzdHMuZmluZCgobGlzdCkgPT4gbGlzdC5pZCA9PT0gc2VsZWN0ZWRMaXN0SWQpO1xuXG5leHBvcnQgeyByZW5kZXIsIGNyZWF0ZUxpc3QsIGxpc3RzLCBzYXZlQW5kUmVuZGVyLCBsaXN0RXZlbnRMaXN0ZW5lciB9O1xuXG5leHBvcnQgeyBzZWxlY3RlZExpc3QgfTtcbiIsImltcG9ydCB7IGNsb3NlTGlzdEZvcm0sIG9wZW5MaXN0Rm9ybSB9IGZyb20gJy4vZm9ybXMnO1xuaW1wb3J0IHsgbGlzdEV2ZW50TGlzdGVuZXIgfSBmcm9tICcuL2xpc3RMb2dpYyc7XG5pbXBvcnQgeyBnZXRJbnB1dFZhbHVlcywgcmVuZGVyVGFza3MsIGNoZWNrQ2hlY2tib3ggfSBmcm9tICcuL3Rhc2tMb2dpYyc7XG5cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXRhc2snKTtcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgbmFtZSwgZGVzY3JpcHRpb24sIGRhdGUsIHByaW9yaXR5IH0gPSBnZXRJbnB1dFZhbHVlcygpO1xuICAgIHJlbmRlclRhc2tzKHNlbGVjdGVkTGlzdCwgbmFtZSwgZGVzY3JpcHRpb24sIGRhdGUsIHByaW9yaXR5KTtcbiAgfSk7XG5cbiAgY29uc3QgY2hlY2tib3hJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgY2hlY2tib3hJbnB1dHMuZm9yRWFjaCgoY2hlY2tib3gpID0+IHtcbiAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBjaGVja0NoZWNrYm94KTtcbiAgfSk7XG5cbiAgY29uc3QgbGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctbGlzdCcpO1xuICBsaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3Blbkxpc3RGb3JtKTtcblxuICBjb25zdCBjbG9zZUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UtZm9ybScpO1xuICBjbG9zZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUxpc3RGb3JtKTtcblxuICBsaXN0RXZlbnRMaXN0ZW5lcigpO1xufVxuXG5leHBvcnQgeyBhZGRFdmVudExpc3RlbmVycyB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlTGlzdCwgbGlzdHMsIHNhdmVBbmRSZW5kZXIgfSBmcm9tICcuL2xpc3RMb2dpYyc7XG5cbmZ1bmN0aW9uIG9wZW5MaXN0Rm9ybSgpIHtcbiAgbGV0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlzdC1mb3JtJyk7XG4gIGZvcm0uc3R5bGUuZGlzcGxheSA9ICdmbGV4Jztcbn1cblxuZnVuY3Rpb24gY2xvc2VMaXN0Rm9ybSgpIHtcbiAgbGV0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlzdC1mb3JtJyk7XG4gIGxldCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXN0LW5hbWUnKTtcblxuICBpZiAoaW5wdXQudmFsdWUgPT09ICcnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IG5ld0xpc3ROYW1lID0gaW5wdXQudmFsdWU7XG5cbiAgY29uc3QgbGlzdCA9IGNyZWF0ZUxpc3QobmV3TGlzdE5hbWUpO1xuICBpbnB1dC52YWx1ZSA9ICcnO1xuICBsaXN0cy5wdXNoKGxpc3QpO1xuICBmb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHNhdmVBbmRSZW5kZXIoKTtcbn1cblxuZXhwb3J0IHsgb3Blbkxpc3RGb3JtLCBjbG9zZUxpc3RGb3JtIH07XG4iLCJpbXBvcnQgeyBhZGRFdmVudExpc3RlbmVycywgdXBkYXRlRXZlbnRMaXN0ZW5lcnMgfSBmcm9tICcuL2Rpc3BsYXlIYW5kbGVyJztcbmltcG9ydCB7IHJlbmRlciB9IGZyb20gJy4vbGlzdExvZ2ljJztcblxuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbnJlbmRlcigpO1xuIl0sIm5hbWVzIjpbInRhc2tUZW1wbGF0ZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjaGVja0NoZWNrYm94IiwiZXZlbnQiLCJ0YXNrSXRlbSIsInRoaXMiLCJjbG9zZXN0IiwiY2hlY2tlZCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInJlbmRlclRhc2tzIiwic2VsZWN0ZWRMaXN0IiwibmFtZSIsImRlc2NyaXB0aW9uIiwiZGF0ZSIsInByaW9yaXR5IiwidGFza3MiLCJmb3JFYWNoIiwidGFzayIsInRhc2tFbGVtZW50IiwiaW1wb3J0Tm9kZSIsImNvbnRlbnQiLCJjaGVja2JveCIsInF1ZXJ5U2VsZWN0b3IiLCJuYW1lVGFnIiwiZGVzY3JpcHRpb25UYWciLCJkYXRlVGFnIiwicHJpb3JpdHlUYWciLCJpZCIsImNvbXBsZXRlIiwiaW5uZXJIVE1MIiwidGFza0NvbnRhaW5lciIsImFwcGVuZENoaWxkIiwibGlzdHNDb250YWluZXIiLCJMT0NBTF9TVE9SQUdFX0xJU1RfS0VZIiwiTE9DQUxfU1RPUkFHRV9TRUxFQ1RFRF9MSVNUX0lEX0tFWSIsImxpc3RzIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNlbGVjdGVkTGlzdElkIiwic2F2ZUFuZFJlbmRlciIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJyZW5kZXIiLCJjbGVhckVsZW1lbnQiLCJsaXN0IiwibGlzdEVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZGF0YXNldCIsImxpc3RJZCIsImxpc3RFbGVtZW50SFRNTCIsImxpc3ROYW1lIiwic3R5bGUiLCJkaXNwbGF5IiwiZmlsdGVyIiwicmVuZGVySW5jb21wbGV0ZVRhc2tzIiwiZWxlbWVudCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImZpbmQiLCJhZGRFdmVudExpc3RlbmVyIiwidmFsdWUiLCJkZWZhdWx0RGF0ZSIsImRheSIsInNsaWNlIiwibW9udGgiLCJ5ZWFyIiwic3RhcnRzV2l0aCIsInN1YnN0cmluZyIsImdldElucHV0VmFsdWVzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvcm0iLCJpbnB1dCIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsInB1c2giLCJlIiwidGFyZ2V0IiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwicGFyZW50Tm9kZSIsImhhc0F0dHJpYnV0ZSIsImlkUGFyZW50Il0sInNvdXJjZVJvb3QiOiIifQ==